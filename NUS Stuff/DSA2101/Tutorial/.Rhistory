knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
fig.align = "center",  out.width = "80%")
library(tidyverse)
qn1_1 <- read_csv("../data/yrbss.csv")
qn1_1 <- qn1_1 %>% drop_na() %>% distinct() %>%
rename(id = record, weight_kg = stweight) %>%
mutate(grade = as.numeric(gsub("th", "", grade)))
# str_remove(grade, "th")
# gsub("\\D", "", grade)
str(qn1_1)
qn1_2 <- qn1_1 %>%
filter(bmi < 15, sex == "Female") %>%
select(id, age, race4, weight_kg, bmi) %>%
mutate(height_m = sqrt(weight_kg/bmi))
str(qn1_2)
library(readxl)
library(lubridate)
qn2_1 <- read_excel("../data/MSPUS.xls", range="A11:B255", col_names=TRUE)
qn2_1 <- qn2_1 %>%
rename("date"="observation_date",
"price"="MSPUS") %>%
mutate(date = ymd(date))
str(qn2_1)
library(ggplot2)
library(scales)
ggplot(qn2_1, aes(x=date, y=price)) +
geom_line() +
scale_y_continuous(labels = comma) +
labs(title = "Median Sales Prices of Houses for the United States",
x = element_blank(), y = element_blank()) +
theme_classic() +
theme(text = element_text(size=15))
qn2_3 <- qn2_1 %>%
filter(date %within% interval(ymd("2023-10-31"), ymd("2015-01-01"))) %>%
mutate(year = year(date), quarter = paste("Q", quarter(date), sep=""))
str(qn2_3)
ggplot(qn2_3, aes(x=date, y=price)) +
geom_point() +
geom_line() +
labs(title = "Median Housing prices, 2015−2023",
x = element_blank(), y = element_blank()) +
theme_classic() +
theme(text = element_text(size=15))
# install.packages("nycflights13")
library(nycflights13)
data(flights)
flights <- flights %>%
# na.omit() %>%
# filter(complete.cases(.)) %>%
drop_na() %>%
distinct()
most_flights <- flights %>%
filter(month == 6, ) %>%
group_by(origin) %>%
count(origin) %>%
ungroup %>%
slice_max(n)
best_ave <- flights %>%
group_by(carrier) %>%
summarize(mean = mean(distance)) %>%
slice_max(mean)
fast_ave <- flights %>%
mutate(ave_speed = distance/(air_time/60)) %>%
slice_max(ave_speed) %>%
select(carrier, flight, ave_speed)
most_day <- flights %>%
group_by(day) %>%
count(day) %>%
ungroup() %>%
slice_max(n)
View(flights)
View(flights)
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
fig.align = "center",  out.width = "80%")
library(tidyverse)
qn1_1 <- read_csv("../data/yrbss.csv")
qn1_1 <- qn1_1 %>% drop_na() %>% distinct() %>%
rename(id = record, weight_kg = stweight) %>%
mutate(grade = as.numeric(gsub("th", "", grade)))
# str_remove(grade, "th")
# gsub("\\D", "", grade)
str(qn1_1)
qn1_2 <- qn1_1 %>%
filter(bmi < 15, sex == "Female") %>%
select(id, age, race4, weight_kg, bmi) %>%
mutate(height_m = sqrt(weight_kg/bmi))
str(qn1_2)
library(readxl)
library(lubridate)
qn2_1 <- read_excel("../data/MSPUS.xls", range="A11:B255", col_names=TRUE)
qn2_1 <- qn2_1 %>%
rename("date"="observation_date",
"price"="MSPUS") %>%
mutate(date = ymd(date))
str(qn2_1)
library(ggplot2)
library(scales)
ggplot(qn2_1, aes(x=date, y=price)) +
geom_line() +
scale_y_continuous(labels = comma) +
labs(title = "Median Sales Prices of Houses for the United States",
x = element_blank(), y = element_blank()) +
theme_classic() +
theme(text = element_text(size=15))
qn2_3 <- qn2_1 %>%
filter(date %within% interval(ymd("2023-10-31"), ymd("2015-01-01"))) %>%
mutate(year = year(date), quarter = paste("Q", quarter(date), sep=""))
str(qn2_3)
ggplot(qn2_3, aes(x=date, y=price)) +
geom_point() +
geom_line() +
labs(title = "Median Housing prices, 2015−2023",
x = element_blank(), y = element_blank()) +
theme_classic() +
theme(text = element_text(size=15))
# install.packages("nycflights13")
library(nycflights13)
data(flights)
flights <- flights %>%
# na.omit() %>%
# filter(complete.cases(.)) %>%
drop_na() %>%
distinct()
most_flights <- flights %>%
filter(month == 6) %>%
count(dest) %>%
slice_max(n)
best_ave <- flights %>%
group_by(carrier) %>%
summarize(mean = mean(distance)) %>%
slice_max(mean)
fast_ave <- flights %>%
mutate(ave_speed = distance/(air_time/60)) %>%
slice_max(ave_speed) %>%
select(carrier, flight, ave_speed)
most_day <- flights %>%
group_by(day) %>%
count(day) %>%
ungroup() %>%
slice_max(n)
most_day
most_day <- flights %>%
count(weekdays(time_hour)) %>%
slice_max(n)
most_day
getwd()
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
fig.align = "center",  out.width = "80%")
setwd("C:\\Users\\Keck\\Documents\\GitHub\\devcontainers-rstudio\\NUS Stuff\\DSA2101\\tutorial")
library(tidyverse)
qn1_1 <- read_csv("../data/yrbss.csv")
qn1_1 <- qn1_1 %>% drop_na() %>% distinct() %>%
rename(id = record, weight_kg = stweight) %>%
mutate(grade = as.numeric(gsub("th", "", grade)))
# str_remove(grade, "th")
# gsub("\\D", "", grade)
str(qn1_1)
..
getwd()
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
fig.align = "center",  out.width = "80%")
# setwd("C:\\Users\\Keck\\Documents\\GitHub\\devcontainers-rstudio\\NUS Stuff\\DSA2101\\tutorial")
library(readxl)
library(tidyverse)
library(lubridate)
library(stringr)
tourist <- tibble(read_excel('../Data/tourist.xlsx',
range="A10:G26", col_name = TRUE)) %>%
filter(!row_number() %in% c(1, 11, 16))
months <- rev(gsub("2022 ", "", colnames(tourist)[-1]))
# year=as.numeric(gsub(paste0(months, collapse = "|"), "", Year_Month)),
# month= factor(gsub("2022 ", "", Year_Month), levels = months),
# duration=gsub("\\(Number\\)", "",duration)) %>%
# tourist %>% pivot_longer(`2022 Dec`:`2022 Jul`, names_to="year_month", values_to="arrivals")
qn1_1 <- tourist %>%
mutate(k=row_number()) %>%
gather(`2022 Dec`:`2022 Jul`, key="year_month", value="arrivals") %>%
separate(year_month, into= c("year", "month"), " ") %>%
rename(duration="Data Series") %>%
mutate(year=as.integer(year), month=factor(month, levels = months)) %>%
arrange(month) %>% relocate(k, duration, year, month, arrivals)
glimpse(qn1_1)
qn1_2 <- qn1_1 %>%
mutate(mom_change
=round(100*(arrivals-lag(arrivals, 13))/lag(arrivals, 13), 1)) %>%
na.omit()
head(qn1_2, 2)
# library(nberwp)
papers <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/papers.csv')
authors <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/authors.csv')
programs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/programs.csv')
paper_authors <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/paper_authors.csv')
paper_programs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/paper_programs.csv')
joined_df <- left_join(papers, paper_authors) %>%
left_join(authors) %>%
left_join(paper_programs) %>%
left_join(programs)%>%
mutate(
catalogue_group = str_sub(paper, 1, 1),
catalogue_group = case_when(
catalogue_group == "h" ~ "Historical",
catalogue_group == "t" ~ "Technical",
catalogue_group == "w" ~ "General"
),
.after = paper
)
str(joined_df)
qn2_2 <- joined_df %>% filter(program_category == "Finance") %>%
select(year, program_desc, program_category) %>%
group_by(year, program_desc) %>% mutate(n=n()) %>% ungroup() %>% distinct()
glimpse(qn2_2)
library(ggplot2)
plot1 <- qn2_2 %>% filter(program_desc=="Corporate Finance")
plot2 <- qn2_2 %>% filter(program_desc=="Asset Pricing")
ggplot() +
geom_line(data = plot1, aes(x=year, y=n), color = "red") +
geom_line(data = plot2, aes(x=year, y=n), color = "blue") +
labs(title = "Number of Finance papers from 1978 to present",
x = "Year", y = "Number of paper") +
theme_classic() +
theme(text = element_text(size=15))
qn2_4 <- joined_df %>% select(paper, name)
qn2_5 <- joined_df %>% select(paper, year, name) %>%
mutate(year=paste(floor(year/10), "0s", sep="")) %>%
rename(decade = year) %>% group_by(paper, decade) %>%
summarize(n = n()) %>% ungroup() %>%
group_by(decade) %>% summarize(avg_n_authors = mean(n))
head(qn2_5,3)
View(joined_df)
# setwd("C:\\Users\\Keck\\Documents\\GitHub\\devcontainers-rstudio\\NUS Stuff\\DSA2101\\tutorial")
library(readxl)
library(tidyverse)
library(lubridate)
library(stringr)
library(ggplot2)
# update.packages(ask = FALSE)
install.packages("installr")
library(installr)
library(installr)
updateR()
install.packages("matlib")
help(lm)
library(class)
help(knn)
###############################################################################
library(rpart)
library(rpart.plot)
library("rpart")
library("rpart.plot")
library(e1071)
library(ROCR)
help(kmeans)
library(arules)
###############################################################################
library('arules')
###############################################################################
library('arules')
library('arulesViz')
library(Matrix)
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
fig.align = "center",  out.width = "80%")
# setwd("C:\\Users\\Keck\\Documents\\GitHub\\devcontainers-rstudio\\NUS Stuff\\DSA2101\\tutorial")
library(readxl)
library(tidyverse)
library(lubridate)
library(stringr)
tourist <- tibble(read_excel('../Data/tourist.xlsx',
range="A10:G26", col_name = TRUE)) %>%
filter(!row_number() %in% c(1, 11, 16))
months <- rev(gsub("2022 ", "", colnames(tourist)[-1]))
# year=as.numeric(gsub(paste0(months, collapse = "|"), "", Year_Month)),
# month= factor(gsub("2022 ", "", Year_Month), levels = months),
# duration=gsub("\\(Number\\)", "",duration)) %>%
# tourist %>% pivot_longer(`2022 Dec`:`2022 Jul`, names_to="year_month", values_to="arrivals")
qn1_1 <- tourist %>%
mutate(k=row_number()) %>%
gather(`2022 Dec`:`2022 Jul`, key="year_month", value="arrivals") %>%
separate(year_month, into= c("year", "month"), " ") %>%
rename(duration="Data Series") %>%
mutate(year=as.integer(year), month=factor(month, levels = months)) %>%
arrange(month) %>% relocate(k, duration, year, month, arrivals)
glimpse(qn1_1)
qn1_2 <- qn1_1 %>%
mutate(mom_change
=round(100*(arrivals-lag(arrivals, 13))/lag(arrivals, 13), 1)) %>%
na.omit()
head(qn1_2, 2)
# library(nberwp)
papers <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/papers.csv')
authors <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/authors.csv')
programs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/programs.csv')
paper_authors <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/paper_authors.csv')
paper_programs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-09-28/paper_programs.csv')
joined_df <- left_join(papers, paper_authors) %>%
left_join(authors) %>%
left_join(paper_programs) %>%
left_join(programs)%>%
mutate(
catalogue_group = str_sub(paper, 1, 1),
catalogue_group = case_when(
catalogue_group == "h" ~ "Historical",
catalogue_group == "t" ~ "Technical",
catalogue_group == "w" ~ "General"
),
.after = paper
)
str(joined_df)
qn2_2 <- joined_df %>% filter(program_category == "Finance") %>%
select(year, program_desc, program_category) %>%
group_by(year, program_desc) %>% mutate(n=n()) %>% ungroup() %>% distinct()
glimpse(qn2_2)
library(ggplot2)
plot1 <- qn2_2 %>% filter(program_desc=="Corporate Finance")
plot2 <- qn2_2 %>% filter(program_desc=="Asset Pricing")
ggplot() +
geom_line(data = plot1, aes(x=year, y=n), color = "red") +
geom_line(data = plot2, aes(x=year, y=n), color = "blue") +
labs(title = "Number of Finance papers from 1978 to present",
x = "Year", y = "Number of paper") +
theme_classic() +
theme(text = element_text(size=15))
qn2_4 <- joined_df %>% select(paper, name)
qn2_5 <- joined_df %>% select(paper, year, name) %>%
mutate(year=paste(floor(year/10), "0s", sep="")) %>%
rename(decade = year) %>% group_by(paper, decade) %>%
summarize(n = n()) %>% ungroup() %>%
group_by(decade) %>% summarize(avg_n_authors = mean(n))
head(qn2_5,3)
